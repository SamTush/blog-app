<main id="user-index" class="page">
  <%# Home, Users and Back button start %>
  <div id="user-page">
      <div id="user-page">
    <div class="btn-container">
      <%= link_to "Home", "../../" %>
      <div class="back-link-container">
        <%= link_to "Back", :back, class: "back-link" %>
      </div>
          <div class="users-link-container">
      <%= link_to "Users", users_path, class: "users-link" %>
    </div>
    </div>
    <%# End of Home, Users and Back button button  %>
    <%# user info start here %>
    <div class="user-container container d-flex gap-5">
      <div class="user-profile-pic">
        <img style="width: 150px;" src="<%= @user.photo %>" alt="profile-picture">
      </div>
      <div class="user-info d-flex justify-content-between" style="width: 100%;">
        <h3><%= @user.name%></h3>
        <p class="posts-counter mt-5">Number of posts: <%= @user.posts_counter || 0 %></p>
      </div>
    </div>
    <article class="user-bio container mt-4">
      <h3>Bio</h3>
      <div class="bio"><%= @user.bio %></div>
    </article>
    <%# end of user info %>
    <%# posts start here%>
    <article>
      <% @posts.each do |post| %>
        <%= link_to  user_post_path(@user, post) do %>
          <div class="post-container container mt-4">
            <h3 class="post-title"><%= post.title %></h3>
            <div class="post-details">
              <p class="details"><%= post.text[0..100]... %></p>
            </div>
            <div class="comment-like-container d-flex justify-content-end">
              <p class="coment-likes-data">
                Comment: <%= post.comment_counter || 0 %>, Likes: <%= post.likes_counter || 0 %>
              </p>
            </div>
          </div>
        <% end %>
      <% end %>
    </article>
    <%# end of post %>
    <%# see all post button %>
    <div class="btn-container see-posts">
        <%= link_to "See all posts", user_posts_path(@user) %>
    </div>
    <%# end of see all button %>
  </div>
</main>
